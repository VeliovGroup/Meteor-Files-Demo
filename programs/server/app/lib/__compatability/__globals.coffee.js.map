{"version":3,"sources":["meteor://ðŸ’»app/lib/__compatability/__globals.coffee"],"names":[],"mappings":"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","file":"/lib/__compatability/__globals.coffee.js","sourcesContent":["@Collections = {}\n@_app = NOOP: -> return\nPackage['kadira:flow-router'] = Package['ostrio:flow-router-extra'];\n\nif Meteor.isClient\n  window.IS_RENDERED = false\n  ClientStorage.set('blamed', []) if not ClientStorage.has('blamed') or not _.isArray ClientStorage.get 'blamed'\n  ClientStorage.set('unlist', true) if not ClientStorage.has('unlist') or not _.isBoolean ClientStorage.get 'unlist'\n  ClientStorage.set('secured', false) if not ClientStorage.has('secured') or not _.isBoolean ClientStorage.get 'secured'\n  ClientStorage.set('userOnly', false) if not ClientStorage.has('userOnly') or not _.isBoolean ClientStorage.get 'userOnly'\n\n  _app.subs            = new SubsManager()\n  _app.blamed          = new ReactiveVar ClientStorage.get 'blamed'\n  _app.unlist          = new ReactiveVar ClientStorage.get 'unlist'\n  _app.secured         = new ReactiveVar ClientStorage.get 'secured'\n  _app.uploads         = new ReactiveVar false\n  _app.userOnly        = new ReactiveVar ClientStorage.get 'userOnly'\n  _app.storeTTL        = 86400000\n  _app.currentUrl      = -> Meteor.absoluteUrl((FlowRouter.current().path or document.location.pathname).replace(/^\\//g, '')).split('?')[0].split('#')[0].replace '!', ''\n  _app.storeTTLUser    = 432000000\n  _app.showProjectInfo = new ReactiveVar false\n  \n  Meteor.autorun ->\n    ClientStorage.set 'blamed', _app.blamed.get()\n    return\n\n  Meteor.autorun ->\n    ClientStorage.set 'unlist', _app.unlist.get()\n    return\n\n  Meteor.autorun ->\n    ClientStorage.set 'secured', _app.secured.get()\n    return\n\n  Meteor.autorun ->\n    ClientStorage.set 'userOnly', _app.userOnly.get()\n    return\n\n  ClientStorage.set('uploadTransport', 'ddp') unless ClientStorage.has 'uploadTransport'\n  Template.registerHelper 'urlCurrent', -> _app.currentUrl()\n  Template.registerHelper 'url', (string = null) -> Meteor.absoluteUrl string\n  Template.registerHelper 'filesize', (size = 0) -> filesize size\n  Template.registerHelper 'extless', (filename = '') ->\n    parts = filename.split '.'\n    parts.pop() if parts.length > 1\n    return parts.join '.'\n  Template.registerHelper 'DateToISO', (time) ->\n    return 0 unless time\n    if _.isString(time) or _.isNumber time\n      time = new Date time\n    time.toISOString()\n\n  Template._404.onRendered ->\n    window.IS_RENDERED = true\n    return\n\n  Template._layout.helpers\n    showProjectInfo: -> _app.showProjectInfo.get()\n\n  Template._layout.events\n    'click [data-show-project-info]': (e, template) ->\n      e.preventDefault()\n      $('.gh-ribbon').toggle()\n      _app.showProjectInfo.set !_app.showProjectInfo.get()\n      false\n\n  marked.setOptions\n    highlight: (code) ->  hljs.highlightAuto(code).value\n    renderer: new marked.Renderer()\n    gfm: true\n    tables: true\n    breaks: false\n    pedantic: false\n    sanitize: true\n    smartLists: true\n    smartypants: false\n\n  Meteor.startup ->\n    $('html').attr 'itemscope', ''\n    $('html').attr 'itemtype', 'http://schema.org/WebPage'\n    $('html').attr 'xmlns:og', 'http://ogp.me/ns#'\n    $('html').attr 'xml:lang', 'en'\n    $('html').attr 'lang', 'en'"]}